#!/usr/bin/env python

import wi19

import wi19
import glob

params={
    "gt_csv":"./test_data/test_leaderboard/gt.csv",
    "user_dirs": ("./test_data/test_leaderboard/team*",
                                    "Wildcards need to be inside a sigle quote string in bash"),
    "output_root": "/tmp/leaderboard/"
    #load_dm(dm_fname,gt_fname,allow_similarity=True,allow_missing_samples=False,allow_non_existing_samples=False)
}
params, help_str = wi19.get_arg_switches(params)
#calculate_participants

participant_dir_list=[p+"/" for p in glob.glob(params["user_dirs"])]

all_participants=wi19.calculate_participants(participant_dir_list,params["gt_csv"],params["output_root"])
wi19.render_leaderboard(params["output_root"],all_participants)